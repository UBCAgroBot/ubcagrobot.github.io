assert_lefthook_installed: true
colors: false

pre-commit:
  jobs:
    - name: format
      run: bun run fmt
      stage_fixed: true

    - name: lint
      run: bun run lint
      stage_fixed: true

commit-msg:
  commands:
    commit-lint:
      run: bash pre-commit.sh {1}
      fail_text: Commit message does not follow Conventional Commits style.

pre-push:
  jobs:
    - name: check fmt
      run: bun run fmt:check
      fail_text: "Format check failed, run `bun run fmt`"

    - name: check lint
      run: bun run lint:check
      fail_text: "Lint check failed, run `bun run lint`"

    - name: check build
      run: bun run build:check
      failt_text: "Build check failed, run `bun run build:check`"
